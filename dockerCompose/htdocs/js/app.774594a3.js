(function(t){function e(e){for(var r,i,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)i=o[p],a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0004":function(t,e,n){"use strict";var r=n("b1a3"),a=n.n(r);a.a},"004f":function(t,e,n){},"0065":function(t,e,n){},"046d":function(t,e,n){},"0ec6":function(t,e,n){"use strict";var r=n("c10a"),a=n.n(r);a.a},1361:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-modal",{staticClass:"base-confirm-dialog",attrs:{show:t.show,width:500},on:{close:function(e){return t.$emit("dismiss")}}},[n("div",{staticClass:"modal-content"},[n("h1",{staticClass:"title"},[t._t("title")],2),n("div",{staticClass:"content"},[t._t("default"),n("div",{staticClass:"actions"},[n("base-button",{attrs:{theme:"borderless"},on:{click:function(e){t.show=!1}}},[t._v("\n          "+t._s(t.dismissButtonTitle)+"\n        ")]),n("base-button",{staticClass:"confirm-button",on:{click:t.confirm}},[t._v("\n          "+t._s(t.confirmButtonTitle)+"\n        ")])],1)],2)])])},a=[],s=(n("cadf"),n("551c"),n("f751"),n("097d"),{props:{confirmButtonTitle:{type:String,default:"Confirm"},dismissButtonTitle:{type:String,default:"Dismiss"}},data:function(){return{show:!1}},mounted:function(){this.show=!0},methods:{confirm:function(){this.$emit("confirm"),this.show=!1}}}),i=s,o=(n("60f5"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"0b04ea6e",null);e["default"]=c.exports},1673:function(t,e,n){},1899:function(t,e,n){"use strict";var r=n("7680"),a=n.n(r);a.a},2045:function(t,e,n){},2065:function(t,e,n){"use strict";var r=n("caf5"),a=n.n(r);a.a},"20c1":function(t,e,n){},"24ca":function(t,e,n){"use strict";var r=n("85de"),a=n.n(r);a.a},"264f":function(t,e,n){},2973:function(t,e,n){"use strict";var r=n("4a5c"),a=n.n(r);a.a},"2a66":function(t,e,n){"use strict";var r=n("5007"),a=n.n(r);a.a},"2c4d":function(t,e,n){},"2dab":function(t,e,n){"use strict";e["a"]={required:"This field is required",email:"Please enter a valid email address"}},3031:function(t,e,n){var r={"./BaseAvatar":"c328","./BaseAvatar.vue":"c328","./BaseButton":"82ea","./BaseButton.vue":"82ea","./BaseConfirmDialog":"1361","./BaseConfirmDialog.vue":"1361","./BaseDropdownContent":"4edf","./BaseDropdownContent.vue":"4edf","./BaseImageCropper":"876c","./BaseImageCropper.vue":"876c","./BaseImageInput":"c4fb","./BaseImageInput.vue":"c4fb","./BaseInput":"b3b3","./BaseInput.vue":"b3b3","./BaseMenuDropdown":"ff32","./BaseMenuDropdown.vue":"ff32","./BaseModal":"c1ec","./BaseModal.vue":"c1ec","./BaseSelectInput":"887a","./BaseSelectInput.vue":"887a","./BaseSpinner":"9a6a","./BaseSpinner.vue":"9a6a","./BaseTabs":"3315","./BaseTabs.vue":"3315","./BaseTextarea":"e8e0","./BaseTextarea.vue":"e8e0"};function a(t){var e=s(t);return n(e)}function s(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="3031"},3081:function(t,e,n){"use strict";var r=n("20c1"),a=n.n(r);a.a},3085:function(t,e,n){},3315:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-tabs"},t._l(t.options,function(e){return n("div",{key:e.key,staticClass:"tab-item",class:{active:e.key===t.value},on:{click:function(n){return t.$emit("input",e.key)}}},[t._v("\n    "+t._s(e.title)+"\n  ")])}),0)},a=[],s={props:{value:{type:String,default:""},options:{type:Array,default:function(){return[]}}}},i=s,o=(n("cbee"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"691c4590",null);e["default"]=c.exports},3585:function(t,e,n){},"3b02":function(t,e,n){"use strict";var r=n("c96d"),a=n.n(r);a.a},"3c7f":function(t,e,n){"use strict";var r=n("61c3"),a=n.n(r);a.a},"3f44":function(t,e,n){},"3f8f":function(t,e,n){},"3f93":function(t,e,n){"use strict";var r=n("9bdb"),a=n.n(r);a.a},"474f":function(t,e,n){"use strict";var r=n("2c4d"),a=n.n(r);a.a},"4a5c":function(t,e,n){},"4edf":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade-up"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"base-dropdown-content",class:[t.xDirection,t.yDirection]},["loading"===t.status?n("div",{staticClass:"loading"},[t._v("\n      Fetching results\n    ")]):"empty"===t.status?n("div",{staticClass:"empty"},[t._v("\n      No results found\n    ")]):"displayOptions"===t.status?n("ul",{ref:"options",staticClass:"options",style:{"max-height":t.maxHeight+"px"}},t._l(t.orderedOptions,function(e,r){return n("li",{key:e.key,staticClass:"option",class:{selected:e.key===t.selected,highlighted:r===t.highlightedIndex},on:{mouseenter:function(e){t.highlightedIndex=r},click:t.onSelect}},[t._t("default",[t._v("\n          "+t._s(e.title)+"\n        ")],{option:e})],2)}),0):t._e()])])},a=[],s=n("75fc"),i=(n("7514"),n("3b2b"),n("d25f"),n("c5f6"),{props:{show:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}},status:{type:String,default:"displayOptions"},selected:{type:[String,Number],default:""},showSelectedFirst:{type:Boolean,default:!1},yDirection:{type:String,default:"below"},xDirection:{type:String,default:"right"},searchValue:{type:String,default:""},maxHeight:{type:Number,default:200}},data:function(){return{highlightedIndex:-1}},computed:{orderedOptions:function(){var t=this,e=this.options.filter(function(e){var n=e.title;return new RegExp(t.searchValue).test(n)});if(this.showSelectedFirst&&this.selected){var n=e.filter(function(e){return e.key!==t.selected}),r=e.find(function(e){return e.key===t.selected});return"below"===this.yDirection?[r].concat(Object(s["a"])(n)):[].concat(Object(s["a"])(n),[r])}return e}},mounted:function(){document.body.addEventListener("keydown",this.onKeyDown)},beforeDestroy:function(){document.body.removeEventListener("keydown",this.onKeyDown)},watch:{show:function(){this.highlightedIndex=-1}},methods:{onKeyDown:function(t){this.show&&(40!==t.keyCode&&38!==t.keyCode&&13!==t.keyCode||t.preventDefault(),40===t.keyCode?this.moveDown():38===t.keyCode?this.moveUp():13===t.keyCode&&this.onSelect())},onSelect:function(){var t=this,e=this.orderedOptions.find(function(e,n){return n===t.highlightedIndex});e&&this.$emit("select",e.key)},moveDown:function(){var t=this;this.highlightedIndex=(this.highlightedIndex+1)%this.orderedOptions.length,this.$nextTick(function(){if(0!==t.highlightedIndex){var e=t.$el.querySelector(".highlighted"),n=e.getBoundingClientRect().bottom,r=t.$refs.options.getBoundingClientRect().bottom;n>r&&t.$refs.options.scrollTo(0,n-r+t.$refs.options.scrollTop)}else t.$refs.options.scrollTo(0,0)})},moveUp:function(){var t=this;this.highlightedIndex=this.highlightedIndex-1<0?this.orderedOptions.length-1:this.highlightedIndex-1,this.$nextTick(function(){var e=t.$refs.options.getBoundingClientRect();if(t.highlightedIndex!==t.orderedOptions.length-1){var n=t.$el.querySelector(".highlighted"),r=n.getBoundingClientRect().top;r<e.top&&t.$refs.options.scrollTo(0,t.$refs.options.scrollTop-(e.top-r))}else t.$refs.options.scrollTo(0,t.$refs.options.scrollHeight)})}}}),o=i,c=(n("3f93"),n("2877")),u=Object(c["a"])(o,r,a,!1,null,"24a22494",null);e["default"]=u.exports},5007:function(t,e,n){},5372:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var r=n("3b8d"),a=(n("a481"),n("7f7f"),n("ac6a"),n("f3e2"),n("d25f"),n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.$route.name?n("navbar"):t._e(),n("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("router-link",{staticClass:"logo",attrs:{to:{name:"Home"}}},[t._v("\n    Forum\n  ")]),n("div",{staticClass:"right"},[t.isLoggedIn?n("navbar-current-user"):[n("base-button",{attrs:{to:{name:"Register"}}},[t._v("\n        Sign Up\n      ")]),n("base-button",{attrs:{to:{name:"Login"}}},[t._v("\n        Log In\n      ")])]],2)],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-current-user"},[n("base-menu-dropdown",{attrs:{options:t.options,"x-direction":"left"},on:{select:t.onSelect}},[n("base-avatar",{attrs:{name:t.currentUser.name,src:t.currentUser.avatarUrl}})],1)],1)},l=[],p=n("cebc"),d=n("2f62"),f={computed:{options:function(){return[{key:"settings",title:"Settings"},{key:"logout",title:"Log out"}]}},methods:Object(p["a"])({},Object(d["b"])(["logout"]),{onSelect:function(t){"logout"===t?(this.logout(),this.$router.push({name:"Home"})):"settings"===t&&this.$router.push({name:"AccountSettings"})}})},h=f,g=(n("2a66"),n("2877")),m=Object(g["a"])(h,u,l,!1,null,"5845c31e",null),v=m.exports,b={components:{NavbarCurrentUser:v}},y=b,w=(n("3c7f"),Object(g["a"])(y,o,c,!1,null,"1bc964c6",null)),C=w.exports,_={components:{Navbar:C}},x=_,k=(n("7faf"),Object(g["a"])(x,s,i,!1,null,null,null)),O=k.exports,R=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page home-page"},[n("div",{staticClass:"header"},[n("span",{staticClass:"title"},[t._v("\n      Categories\n    ")]),t.isLoggedIn&&t.currentUser.can("categories:write")?n("base-button",{staticClass:"new-category-button",attrs:{to:{name:"CreateCategory"}}},[n("i",{staticClass:"fas fa-plus plus-icon"}),t._v("\n      New Category\n    ")]):t._e()],1),n("categories-list")],1)},S=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categories-list"},[t.loading?n("base-spinner",{staticClass:"page-spinner"}):t.error?n("div",{staticClass:"error-message"},[t._v("\n    An error occured while fetching the categories."),n("br"),t._v("Try to reload the page.\n  ")]):t._l(t.categories,function(t){return n("category-item",{key:t._id,attrs:{category:t}})})],2)},T=[],j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category-item"},[t.showConfirmDialog?n("base-confirm-dialog",{attrs:{"confirm-button-title":"delete","dismiss-button-title":"cancel"},on:{dismiss:function(e){t.showConfirmDialog=!1},confirm:function(e){return t.deleteCategory({categorySlug:t.category.slug})}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n      Delete this category?\n    ")]},proxy:!0},{key:"default",fn:function(){return[t._v("\n      Deleting this category will also delete all the topics it contains. Note that you cannot undo this action.\n    ")]},proxy:!0}],null,!1,55582609)}):t._e(),n("router-link",{staticClass:"category-item-link",style:{"border-color":t.category.color},attrs:{to:{name:"Category",params:{categorySlug:t.category.slug}}}},[n("div",{staticClass:"content"},[n("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.category.title)+"\n      ")]),n("p",{staticClass:"description"},[t._v("\n        "+t._s(t.category.description)+"\n      ")])]),n("div",{staticClass:"actions"},[t.isLoggedIn&&t.currentUser.can("categories:write")?n("router-link",{attrs:{to:{name:"EditCategory",params:{categorySlug:t.category.slug}}}},[n("i",{staticClass:"action-button fas fa-pencil-alt"})]):t._e(),t.isLoggedIn&&t.currentUser.can("categories:delete")?n("i",{staticClass:"action-button fas fa-trash-alt",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.showConfirmDialog=!0}}}):t._e()],1)])],1)},D=[],I={props:{category:{type:Object,default:function(){return{}}}},data:function(){return{showConfirmDialog:!1}},methods:Object(p["a"])({},Object(d["b"])(["deleteCategory"]))},P=I,U=(n("1899"),Object(g["a"])(P,j,D,!1,null,"922f465a",null)),M=U.exports,B={components:{CategoryItem:M},data:function(){return{loading:!0,error:!1}},computed:Object(p["a"])({},Object(d["c"])({categories:function(t){return t.categories.all}})),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.loadCategories();case 3:this.loading=!1,t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),this.loading=!1,this.error=!0;case 10:case"end":return t.stop()}},t,this,[[0,6]])}));function e(){return t.apply(this,arguments)}return e}(),methods:Object(p["a"])({},Object(d["b"])(["loadCategories"]))},L=B,N=(n("e63d"),Object(g["a"])(L,E,T,!1,null,"c674b0b6",null)),A=N.exports,Y={components:{CategoriesList:A}},q=Y,H=(n("2973"),Object(g["a"])(q,$,S,!1,null,"7cf129d3",null)),F=H.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page category-page"},[t.loading?n("base-spinner",{staticClass:"page-spinner"}):[n("div",{staticClass:"header"},[n("span",{staticClass:"title"},[t._v("\n        "+t._s(t.currentCategory.title)+"\n      ")]),t.isLoggedIn&&t.currentUser.can("own_topics:write")?n("base-button",{staticClass:"new-topic-button",attrs:{to:{name:"CreateTopic"}}},[n("i",{staticClass:"fas fa-plus plus-icon"}),t._v("\n        New Topic\n      ")]):t._e()],1),n("topics-list")]],2)},z=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topics-list"},[0===t.topics.length?n("div",{staticClass:"message"},[t._v("\n    This category contains no topics yet. Be the first one to write the first topic.\n  ")]):n("div",{staticClass:"content"},t._l(t.topics,function(t){return n("topic-item",{key:t._id,attrs:{topic:t}})}),1)])},G=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"topic-item",attrs:{to:{name:"Topic",params:{topicId:t.topic._id}}}},[n("base-avatar",{attrs:{name:t.topic.user.name,src:t.topic.user.avatarUrl}}),n("div",{staticClass:"main"},[n("h1",{staticClass:"title"},[t._v("\n      "+t._s(t.topic.title)+"\n    ")]),n("p",{staticClass:"meta"},[t._v("\n      by\n      "),n("span",{staticClass:"user-name"},[t._v("\n        "+t._s(t.topic.user.name)+"\n      ")]),n("span",{staticClass:"date"},[t._v("\n        "+t._s(t._f("humanizeDate")(t.topic.createdAt))+"\n      ")])])]),n("div",{staticClass:"numbers"},[n("span",{staticClass:"replies"},[t._v("\n      "+t._s(t.topic.numberOfReplies)+"\n      "),n("i",{staticClass:"fas fa-comment icon"})]),n("span",{staticClass:"views"},[t._v("\n      "+t._s(t.topic.views)+"\n      "),n("i",{staticClass:"fas fa-eye icon"})])])],1)},Z=[],K={props:{topic:{type:Object,default:function(){return{}}}}},J=K,Q=(n("e8d0"),Object(g["a"])(J,V,Z,!1,null,"9258b190",null)),tt=Q.exports,et={components:{TopicItem:tt},computed:Object(p["a"])({},Object(d["c"])({topics:function(t){return t.topics.list}})),data:function(){return{loading:!1}}},nt=et,rt=(n("5918"),Object(g["a"])(nt,W,G,!1,null,"c927a008",null)),at=rt.exports,st={components:{TopicsList:at},data:function(){return{loading:!1}},computed:Object(p["a"])({},Object(d["c"])({currentCategory:function(t){return t.categories.current}})),watch:{"$route.params.categorySlug":{immediate:!0,handler:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.loadCurrentCategory({categorySlug:e});case 4:return t.next=6,this.loadTopics({filters:{categorySlug:e}});case 6:this.loading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),this.$router.push({name:"Home"}),this.loading=!1;case 13:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}()}},methods:Object(p["a"])({},Object(d["b"])(["loadTopics","loadCurrentCategory"]))},it=st,ot=(n("591e"),Object(g["a"])(it,X,z,!1,null,"3893e086",null)),ct=ot.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page topic-page"},[t.loading?n("base-spinner",{staticClass:"page-spinner"}):[n("topic-view",{attrs:{topic:t.topic},on:{delete:t.onDeleteTopic,reply:t.jumpToReplyForm}}),t.isLoggedIn?n("reply-form",{ref:"replyForm"}):t._e()]],2)},lt=[],pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-view"},[t.showConfirmDialog?n("base-confirm-dialog",{attrs:{"confirm-button-title":"delete","dismiss-button-title":"cancel"},on:{dismiss:function(e){t.showConfirmDialog=!1},confirm:function(e){return t.$emit("delete")}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n      Delete this topic?\n    ")]},proxy:!0},{key:"default",fn:function(){return[t._v("\n      You cannot undo this action.\n    ")]},proxy:!0}],null,!1,2059072767)}):t._e(),n("h1",{staticClass:"title"},[t._v("\n    "+t._s(t.topic.title)+"\n  ")]),n("div",{staticClass:"author"},[n("base-avatar",{staticClass:"author-left",attrs:{src:t.topic.user.avatarUrl,name:t.topic.user.name}}),n("div",{staticClass:"author-right"},[n("span",{staticClass:"author-name"},[t._v("\n        "+t._s(t.topic.user.name)+"\n      ")]),n("span",{staticClass:"date"},[t._v("\n        "+t._s(t._f("humanizeDate")(t.topic.createdAt))+"\n      ")])])],1),n("p",{staticClass:"topic-content"},[t._v("\n    "+t._s(t.topic.content)+"\n  ")]),n("div",{staticClass:"topic-footer"},[n("div",{staticClass:"topic-footer-reply"},[n("h2",{staticClass:"topic-footer-reply-title"},[t._v("\n        "+t._s(t.topic.replies&&t.topic.replies.length?t.topic.replies.length:"No")+" Replies\n      ")]),n("base-button",{staticClass:"reply-button",on:{click:t.onReply}},[n("i",{staticClass:"fas fa-reply reply-icon"}),t._v("\n        Reply\n      ")])],1),n("div",{staticClass:"action-buttons"},[t.isLoggedIn&&t.currentUser&&t.currentUser.canEditTopic(t.topic)?n("router-link",{attrs:{to:{name:"EditTopic",params:{topicId:t.topic._id}}}},[n("i",{staticClass:"action-button fas fa-pencil-alt"})]):t._e(),t.isLoggedIn&&t.currentUser&&t.currentUser.canDeleteTopic(t.topic)?n("i",{staticClass:"action-button fas fa-trash-alt",on:{click:function(e){t.showConfirmDialog=!0}}}):t._e()],1)]),n("div",{staticClass:"replies-section"},[n("div",{staticClass:"replies-content"},t._l(t.topic.replies,function(e){return n("reply",{key:e._id,attrs:{reply:e,"category-slug":t.topic.category.slug}})}),1)])],1)},dt=[],ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reply"},[t.showConfirmDialog?n("base-confirm-dialog",{attrs:{"confirm-button-title":"delete","dismiss-button-title":"cancel"},on:{dismiss:function(e){t.showConfirmDialog=!1},confirm:function(e){return t.deleteReply({replyId:t.reply._id})}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n      Delete this reply?\n    ")]},proxy:!0},{key:"default",fn:function(){return[t._v("\n      You cannot undo this action.\n    ")]},proxy:!0}],null,!1,386183788)}):t._e(),n("div",{staticClass:"author"},[n("base-avatar",{staticClass:"author-left",attrs:{name:t.reply.user.name,src:t.reply.user.avatarUrl}}),n("div",{staticClass:"author-right"},[n("span",{staticClass:"author-name"},[t._v("\n        "+t._s(t.reply.user.name)+"\n      ")]),n("span",{staticClass:"date"},[t._v("\n        "+t._s(t._f("humanizeDate")(t.reply.createdAt))+"\n      ")])])],1),n("p",{staticClass:"reply-content"},[t.editing?[n("base-textarea",{attrs:{disabled:t.loading,"min-height":150},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("base-button",{attrs:{disabled:t.loading},on:{click:t.saveReply}},[t._v("\n        "+t._s(t.loading?"Saving...":"Save")+"\n      ")]),n("base-button",{staticClass:"cancel-button",attrs:{theme:"borderless"},on:{click:function(e){t.editing=!1}}},[t._v("\n        Cancel\n      ")])]:[t._v("\n      "+t._s(t.reply.content)+"\n    ")]],2),t.editing?t._e():n("div",{staticClass:"actions"},[t.isLoggedIn&&t.currentUser.canEditReply(t.reply,t.categorySlug)?n("i",{staticClass:"action-button fas fa-pencil-alt",on:{click:t.editReply}}):t._e(),t.isLoggedIn&&t.currentUser.canDeleteReply(t.reply,t.categorySlug)?n("i",{staticClass:"action-button fas fa-trash-alt",on:{click:function(e){t.showConfirmDialog=!0}}}):t._e()])],1)},ht=[],gt={props:{reply:{type:Object,default:function(){return{}}},categorySlug:{type:String,default:""}},data:function(){return{showConfirmDialog:!1,content:"",editing:!1,loading:!1}},methods:Object(p["a"])({},Object(d["b"])(["deleteReply","updateReply"]),{editReply:function(){this.content=this.reply.content,this.editing=!0},saveReply:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.updateReply({replyId:this.reply._id,data:{content:this.content}});case 4:this.editing=!1,this.loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.loading=!1;case 11:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}()})},mt=gt,vt=(n("3081"),Object(g["a"])(mt,ft,ht,!1,null,"ed9078b2",null)),bt=vt.exports,yt={components:{Reply:bt},props:{topic:{type:Object,default:function(){return{}}}},data:function(){return{showConfirmDialog:!1}},methods:Object(p["a"])({},Object(d["b"])(["setNextRoute"]),{onReply:function(){this.isLoggedIn?this.$emit("reply"):(this.setNextRoute({route:this.$route.fullPath}),this.$router.push({name:"Login"}))}})},wt=yt,Ct=(n("c9c0"),Object(g["a"])(wt,pt,dt,!1,null,"41ff4004",null)),_t=Ct.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reply-form"},[n("base-textarea",{ref:"input",attrs:{placeholder:"Your reply goes here...","min-height":150,errors:t.$v.content,disabled:t.loading},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("base-button",{staticClass:"reply-button",attrs:{disabled:t.loading},on:{click:t.reply}},[t._v("\n    "+t._s(t.loading?"Replying...":"Reply")+"\n  ")])],1)},kt=[],Ot=n("b5ae"),Rt={data:function(){return{content:"",loading:!1}},validations:{content:{required:Ot["required"]}},methods:Object(p["a"])({},Object(d["b"])(["addReply"]),{reply:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$anyError){t.next=14;break}return this.loading=!0,t.prev=3,t.next=6,this.addReply({data:{content:this.content}});case 6:this.content="",this.$v.$reset(),this.loading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),this.loading=!1;case 14:case"end":return t.stop()}},t,this,[[3,11]])}));function e(){return t.apply(this,arguments)}return e}(),focus:function(){this.$refs.input.focus()}})},$t=Rt,St=(n("8d0c"),Object(g["a"])($t,xt,kt,!1,null,"5feb4502",null)),Et=St.exports,Tt={components:{TopicView:_t,ReplyForm:Et},data:function(){return{loading:!1}},computed:Object(p["a"])({},Object(d["c"])({topic:function(t){return t.topics.current}})),watch:{"$route.params.topicId":{immediate:!0,handler:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.loadCurrentTopic({topicId:this.$route.params.topicId});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),this.$router.push({name:"Home"});case 9:this.loading=!1;case 10:case"end":return t.stop()}},t,this,[[1,6]])}));function e(){return t.apply(this,arguments)}return e}()}},methods:Object(p["a"])({},Object(d["b"])(["loadCurrentTopic","deleteTopic"]),{onDeleteTopic:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.deleteTopic({topicId:this.topic._id});case 3:this.$router.push({name:"Category",params:{categorySlug:this.topic.category.slug}});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),jumpToReplyForm:function(){this.$refs.replyForm&&(this.$refs.replyForm.$el.scrollIntoView(),this.$refs.replyForm.focus())}})},jt=Tt,Dt=(n("2065"),Object(g["a"])(jt,ut,lt,!1,null,"546355f5",null)),It=Dt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page create-topic-page"},[n("div",{staticClass:"page-form-container"},[n("h1",{staticClass:"page-form-title"},[t._v("\n      New Topic\n    ")]),n("topic-form",{attrs:{"category-slug":t.$route.params.categorySlug}})],1)])},Ut=[],Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("base-spinner"):t.unauthorized?n("span",{staticClass:"unauthorized-error-message"},[t._v("\n  You cannot edit this topic.\n")]):n("div",{staticClass:"topic-form page-form"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Title")]),n("base-input",{attrs:{errors:t.$v.title},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t.categoryOptions?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Category")]),n("base-select-input",{attrs:{options:t.categoryOptions,placeholder:"Select a category",errors:t.$v.category},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1):t._e(),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Content")]),n("base-textarea",{attrs:{errors:t.$v.content},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("div",{staticClass:"submit-field"},[t.errorMessage?n("span",{staticClass:"error-message"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e(),n("base-button",{on:{click:t.onSubmit}},[t._v("\n      "+t._s(t.update?"Update":"Create")+"\n    ")])],1)])},Bt=[],Lt=(n("6d67"),n("c5f6"),{props:{categorySlug:{type:String,default:""},topicId:{type:[String,Number],default:null},update:{type:Boolean,default:!1}},data:function(){return{title:"",content:"",category:"",loading:!1,errorMessage:"",unauthorized:!1}},validations:{title:{required:Ot["required"]},content:{required:Ot["required"]},category:{required:Ot["required"]}},computed:Object(p["a"])({},Object(d["c"])({categories:function(t){return t.categories.all},topic:function(t){return t.topics.current}}),{categoryOptions:function(){return this.categories.map(function(t){return{key:t.slug,title:t.title}})}}),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.loadCategories();case 3:if(!this.topicId){t.next=17;break}return t.prev=4,t.next=7,this.loadCurrentTopic({topicId:this.topicId});case 7:if(this.isLoggedIn&&(!this.currentUser||this.currentUser.canEditTopic(this.topic))){t.next=9;break}throw Error("unauthorized");case 9:this.title=this.topic.title,this.content=this.topic.content,this.category=this.topic.category.slug,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),this.unauthorized="unauthorized"===t.t0.message;case 17:this.categorySlug&&(this.category=this.categorySlug),this.loading=!1;case 19:case"end":return t.stop()}},t,this,[[4,14]])}));function e(){return t.apply(this,arguments)}return e}(),methods:Object(p["a"])({},Object(d["b"])(["loadCategories","loadCurrentTopic","createTopic","updateTopic"]),{onSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$anyError){t.next=21;break}if(this.loading=!0,t.prev=3,!this.update){t.next=10;break}return t.next=7,this.updateTopic({topicId:this.topicId,data:{title:this.title,content:this.content,category:this.category}});case 7:e=t.sent,t.next=13;break;case 10:return t.next=12,this.createTopic({data:{title:this.title,content:this.content,category:this.category}});case 12:e=t.sent;case 13:this.loading=!1,this.$router.push({name:"Topic",params:{topicId:e}}),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](3),this.loading=!1,this.errorMessage="An error occured while ".concat(this.update?"updating":"creating"," this topic. Please try again later.");case 21:case"end":return t.stop()}},t,this,[[3,17]])}));function e(){return t.apply(this,arguments)}return e}()})}),Nt=Lt,At=(n("a3cb"),Object(g["a"])(Nt,Mt,Bt,!1,null,"b03112ee",null)),Yt=At.exports,qt={components:{TopicForm:Yt}},Ht=qt,Ft=Object(g["a"])(Ht,Pt,Ut,!1,null,"93754d72",null),Xt=Ft.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page edit-topic-page"},[n("div",{staticClass:"page-form-container"},[n("h1",{staticClass:"page-form-title"},[t._v("\n      Edit Topic\n    ")]),n("topic-form",{attrs:{"topic-id":t.$route.params.topicId,"submit-button-title":"Update",update:!0}})],1)])},Wt=[],Gt={components:{TopicForm:Yt}},Vt=Gt,Zt=Object(g["a"])(Vt,zt,Wt,!1,null,"5182a8f6",null),Kt=Zt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page create-category-page"},[n("div",{staticClass:"page-form-container"},[n("h1",{staticClass:"page-form-title"},[t._v("\n      New Category\n    ")]),n("category-form")],1)])},Qt=[],te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("base-spinner"):n("div",{staticClass:"category-form page-form"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Title")]),n("base-input",{attrs:{errors:t.$v.title},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Description")]),n("base-input",{attrs:{errors:t.$v.description},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),n("div",{staticClass:"submit-field"},[t.errorMessage?n("span",{staticClass:"error-message"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e(),n("base-button",{on:{click:t.onSubmit}},[t._v("\n      "+t._s(t.update?"Update":"Create")+"\n    ")])],1)])},ee=[],ne={props:{categorySlug:{type:String,default:null},update:{type:Boolean,default:!1}},data:function(){return{title:"",description:"",loading:!1,errorMessage:""}},validations:{title:{required:Ot["required"]},description:{required:Ot["required"]}},computed:Object(p["a"])({},Object(d["c"])({category:function(t){return t.categories.current}})),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,!this.categorySlug){t.next=12;break}return t.prev=2,t.next=5,this.loadCurrentCategory({categorySlug:this.categorySlug});case 5:this.title=this.category.title,this.description=this.category.description,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),this.$router.push({name:"Home"});case 12:this.loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}(),methods:Object(p["a"])({},Object(d["b"])(["loadCurrentCategory","createCategory","updateCategory"]),{onSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$anyError){t.next=21;break}if(this.loading=!0,t.prev=3,!this.update){t.next=10;break}return t.next=7,this.updateCategory({categorySlug:this.categorySlug,data:{title:this.title,description:this.description}});case 7:e=t.sent,t.next=13;break;case 10:return t.next=12,this.createCategory({data:{title:this.title,description:this.description}});case 12:e=t.sent;case 13:this.loading=!1,this.$router.push({name:"Category",params:{categorySlug:e}}),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](3),this.loading=!1,this.errorMessage="An error occured while ".concat(this.update?"updating":"creating"," this category. Please try again later.");case 21:case"end":return t.stop()}},t,this,[[3,17]])}));function e(){return t.apply(this,arguments)}return e}()})},re=ne,ae=(n("cfc5"),Object(g["a"])(re,te,ee,!1,null,"2fe7a5ff",null)),se=ae.exports,ie={components:{CategoryForm:se}},oe=ie,ce=Object(g["a"])(oe,Jt,Qt,!1,null,"1564213a",null),ue=ce.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page edit-category-page"},[n("div",{staticClass:"page-form-container"},[n("h1",{staticClass:"page-form-title"},[t._v("\n      Edit Category\n    ")]),n("category-form",{attrs:{"category-slug":t.$route.params.categorySlug,update:!0}})],1)])},pe=[],de={components:{CategoryForm:se}},fe=de,he=Object(g["a"])(fe,le,pe,!1,null,"246e484a",null),ge=he.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page login-page"},[n("div",{staticClass:"page-form-container"},[n("h1",{staticClass:"page-form-title"},[t._v("\n      Login\n    ")]),n("login-form")],1)])},ve=[],be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"login-form page-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("span",{staticClass:"error-message"},[t._v("\n    "+t._s(t.serverErrorMessage)+"\n  ")]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("\n      Email\n    ")]),n("base-input",{attrs:{type:"email",errors:t.$v.email},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("\n      Password\n    ")]),n("base-input",{attrs:{type:"password",errors:t.$v.password},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("base-button",{attrs:{disabled:t.loading}},[t._v("\n    "+t._s(t.loading?"Logging In...":"Log In")+"\n  ")])],1)},ye=[],we={data:function(){return{email:"",password:"",serverErrorMessage:"",loading:!1}},validations:{email:{required:Ot["required"],email:Ot["email"]},password:{required:Ot["required"]}},methods:Object(p["a"])({},Object(d["b"])(["login"]),{submit:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$anyError){t.next=13;break}return t.prev=2,t.next=5,this.login({email:this.email,password:this.password});case 5:this.loading=!1,this.$router.push({name:"Home"}),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),this.serverErrorMessage=t.t0.data.message,this.loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}()})},Ce=we,_e=(n("ce1a"),Object(g["a"])(Ce,be,ye,!1,null,"44d261d8",null)),xe=_e.exports,ke={components:{LoginForm:xe}},Oe=ke,Re=(n("0004"),Object(g["a"])(Oe,me,ve,!1,null,"3583986a",null)),$e=Re.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"register-page app-page"},[n("div",{staticClass:"page-form-container"},[n("h1",{staticClass:"page-form-title"},[t._v("\n      Register\n    ")]),n("register-form")],1)])},Ee=[],Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"register-form page-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("span",{staticClass:"error-message"},[t._v("\n    "+t._s(t.serverErrorMessage)+"\n  ")]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("\n      Name\n    ")]),n("base-input",{attrs:{errors:t.$v.name},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("\n      Email\n    ")]),n("base-input",{attrs:{type:"email",errors:t.$v.email},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("\n      Password\n    ")]),n("base-input",{attrs:{type:"password",errors:t.$v.password},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("\n      Role\n    ")]),n("base-select-input",{attrs:{options:t.roleOptions},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),"moderator"===t.role?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("\n      Moderates category\n    ")]),n("base-select-input",{attrs:{"y-direction":"above","loading-options":t.loadingCategories,options:t.categoryOptions},model:{value:t.moderateCategory,callback:function(e){t.moderateCategory=e},expression:"moderateCategory"}})],1):t._e(),n("base-button",{attrs:{disabled:t.loading}},[t._v("\n    "+t._s(t.loading?"Signing Up...":"Sign Up")+"\n  ")])],1)},je=[],De={data:function(){return{name:"",email:"",password:"",role:"user",moderateCategory:"",serverErrorMessage:"",loading:!1,loadingCategories:!1}},validations:{name:{required:Ot["required"]},email:{required:Ot["required"],email:Ot["email"]},password:{required:Ot["required"]}},computed:Object(p["a"])({},Object(d["c"])({categories:function(t){return t.categories.all}}),{roleOptions:function(){return[{key:"user",title:"User"},{key:"moderator",title:"Moderator"},{key:"admin",title:"Admin"}]},categoryOptions:function(){return this.loadingCategories?[]:this.categories.map(function(t){return{key:t.slug,title:t.title}})}}),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingCategories=!0,t.next=3,this.loadCategories();case 3:this.loadingCategories=!1,"moderator"===this.role&&(this.moderateCategory=this.categoryOptions[0].key);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),watch:{role:function(t){this.moderateCategory="moderator"===t?this.categoryOptions[0].key:""}},methods:Object(p["a"])({},Object(d["b"])(["registerUser","loadCategories"]),{submit:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$anyError){t.next=14;break}return t.prev=2,this.loading=!0,t.next=6,this.registerUser({data:{name:this.name,email:this.email,password:this.password,role:this.role,moderateCategory:this.moderateCategory}});case 6:this.loading=!1,this.$router.push({name:"Home"}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),this.serverErrorMessage=t.t0.data.message,this.loading=!1;case 14:case"end":return t.stop()}},t,this,[[2,10]])}));function e(){return t.apply(this,arguments)}return e}()})},Ie=De,Pe=(n("ffdd"),Object(g["a"])(Ie,Te,je,!1,null,"7709c6b4",null)),Ue=Pe.exports,Me={components:{RegisterForm:Ue}},Be=Me,Le=(n("ea2b"),Object(g["a"])(Be,Se,Ee,!1,null,"79699285",null)),Ne=Le.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page account-page"},[n("div",{staticClass:"page-form-container account-settings-form-container"},[n("h1",{staticClass:"page-form-title"},[t._v("\n      Account Settings\n    ")]),n("base-tabs",{attrs:{options:t.options},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}}),"profile"===t.currentTab?n("profile-settings-form"):"password"===t.currentTab?n("password-settings-form"):t._e()],1)])},Ye=[],qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile-settings-form page-form"},[n("div",{staticClass:"field image-field"},[n("base-image-input",{attrs:{value:t.currentUser.avatarUrl,width:250,height:250,crop:!0},on:{input:function(e){t.avatar=arguments[0]}}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Name")]),n("base-input",{attrs:{errors:t.$v.name},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Email")]),n("base-input",{attrs:{errors:t.$v.email},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("div",{staticClass:"submit-field"},[t.errorMessage?n("span",{staticClass:"error-message"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e(),t.success?n("span",{staticClass:"success-message"},[n("i",{staticClass:"fas fa-check"}),t._v(" Saved\n    ")]):t._e(),n("base-button",{attrs:{disabled:t.loading},on:{click:t.onSubmit}},[t._v("\n      "+t._s(t.loading?"Saving...":"Save")+"\n    ")])],1)])},He=[],Fe={data:function(){return{loading:!1,errorMessage:"",success:!1,email:"",name:"",avatar:null}},validations:{email:{required:Ot["required"],email:Ot["email"]},name:{required:Ot["required"]}},mounted:function(){this.name=this.currentUser.name,this.email=this.currentUser.email},methods:Object(p["a"])({},Object(d["b"])(["updateCurrentUserProfile"]),{onSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$anyError){t.next=15;break}return this.loading=!0,t.prev=3,t.next=6,this.updateCurrentUserProfile({data:Object(p["a"])({name:this.name,email:this.email},null!==this.avatar?{avatar:this.avatar}:{})});case 6:this.loading=!1,this.success=!0,setTimeout(function(){e.success=!1},4e3),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),this.errorMessage="An error occured while updating your profile.",this.loading=!1;case 15:case"end":return t.stop()}},t,this,[[3,11]])}));function e(){return t.apply(this,arguments)}return e}()})},Xe=Fe,ze=(n("0ec6"),Object(g["a"])(Xe,qe,He,!1,null,"6cea6ac0",null)),We=ze.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"password-settings-form page-form"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Current Password")]),n("base-input",{attrs:{type:"password",errors:t.$v.currentPassword},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}})],1),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("New Password")]),n("base-input",{attrs:{type:"password",errors:t.$v.newPassword},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),n("div",{staticClass:"submit-field"},[t.errorMessage?n("span",{staticClass:"error-message"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e(),t.success?n("span",{staticClass:"success-message"},[n("i",{staticClass:"fas fa-check"}),t._v(" Saved\n    ")]):t._e(),n("base-button",{attrs:{disabled:t.loading},on:{click:t.onSubmit}},[t._v("\n      "+t._s(t.loading?"Saving...":"Save")+"\n    ")])],1)])},Ve=[],Ze={data:function(){return{loading:!1,errorMessage:"",success:!1,newPassword:"",currentPassword:""}},validations:{newPassword:{required:Ot["required"]},currentPassword:{required:Ot["required"]}},methods:Object(p["a"])({},Object(d["b"])(["updateCurrentUserPassword"]),{onSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$anyError){t.next=19;break}return this.loading=!0,t.prev=3,t.next=6,this.updateCurrentUserPassword({data:{currentPassword:this.currentPassword,newPassword:this.newPassword}});case 6:this.loading=!1,this.success=!0,this.errorMessage="",this.$v.$reset(),this.currentPassword="",this.newPassword="",setTimeout(function(){e.success=!1},4e3),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),this.errorMessage=t.t0.data.message,this.loading=!1;case 19:case"end":return t.stop()}},t,this,[[3,15]])}));function e(){return t.apply(this,arguments)}return e}()})},Ke=Ze,Je=(n("474f"),Object(g["a"])(Ke,Ge,Ve,!1,null,"3931b663",null)),Qe=Je.exports,tn={components:{ProfileSettingsForm:We,PasswordSettingsForm:Qe},data:function(){return{currentTab:"profile",options:[{key:"profile",title:"Profile"},{key:"password",title:"Change Password"}]}}},en=tn,nn=(n("e887"),Object(g["a"])(en,Ae,Ye,!1,null,"7f4ce642",null)),rn=nn.exports,an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page not-found-page"},[n("h1",[t._v("404")]),n("h2",[t._v("\n    This page doesn't exist\n  ")]),n("div",{staticClass:"button-section"},[n("base-button",{attrs:{to:{name:"Home"}}},[t._v("\n      Go to Homepage\n    ")])],1)])},sn=[],on={},cn=on,un=(n("af6c"),Object(g["a"])(cn,an,sn,!1,null,"164c5cb4",null)),ln=un.exports;a["a"].use(R["a"]);var pn=new R["a"]({mode:"history",routes:[{path:"/",name:"Home",component:F},{path:"/login",name:"Login",component:$e,meta:{guest:!0}},{path:"/register",name:"Register",component:Ne,meta:{guest:!0}},{path:"/account-settings",name:"AccountSettings",component:rn,meta:{auth:!0}},{path:"/new-category",name:"CreateCategory",component:ue,meta:{auth:!0,permissions:["categories:write"]}},{path:"/c/:categorySlug/edit",name:"EditCategory",component:ge,meta:{auth:!0,permissions:["categories:write"]}},{path:"/c/:categorySlug",name:"Category",component:ct},{path:"/t/:topicId",name:"Topic",component:It},{path:"/c/:categorySlug/new-topic",name:"CreateTopic",component:Xt,meta:{auth:!0}},{path:"/t/:topicId/edit",name:"EditTopic",component:Kt,meta:{auth:!0}},{path:"*",name:"NotFound",component:ln}]}),dn=n("795b"),fn=n.n(dn),hn=n("bc3a"),gn=n.n(hn),mn=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n,r){var a,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gn()({baseURL:"http://localhost:5000",method:e,url:n,data:r,headers:{Authorization:"Bearer "+localStorage.getItem("auth_token")}});case 3:return a=t.sent,s=a.data,t.abrupt("return",fn.a.resolve(s));case 8:return t.prev=8,t.t0=t["catch"](0),i={status:t.t0.response.status,data:t.t0.response.data},t.abrupt("return",fn.a.reject(i));case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,n,r){return t.apply(this,arguments)}}(),vn={getCategories:function(){return mn("get","categories")},getCategory:function(t){return mn("get","categories/".concat(t))},createCategory:function(t){return mn("post","categories",t)},updateCategory:function(t,e){return mn("put","categories/".concat(t),e)},deleteCategory:function(t){return mn("delete","categories/".concat(t))},getTopics:function(t){if(t.categorySlug)return mn("get","categories/".concat(t.categorySlug,"/topics"))},getTopic:function(t){return mn("get","topics/".concat(t))},createTopic:function(t){return mn("post","topics",t)},updateTopic:function(t,e){return mn("put","topics/".concat(t),e)},deleteTopic:function(t){return mn("delete","topics/".concat(t))},addReply:function(t,e){return mn("post","topics/".concat(t,"/replies"),e)},deleteReply:function(t,e){return mn("delete","topics/".concat(t,"/replies/").concat(e))},updateReply:function(t,e,n){return mn("put","topics/".concat(t,"/replies/").concat(e),n)},registerUser:function(t){return mn("post","register",t)},login:function(t){var e=t.email,n=t.password;return mn("post","login",{email:e,password:n})},getUserData:function(){return mn("get","getprofile")},updateUserProfile:function(t){var e=t.data;return mn("put","profile",e)},updateUserPassword:function(t){var e=t.data;return mn("put","profile/password",e)}},bn={state:{all:[],current:{}},actions:{loadCategories:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,vn.getCategories();case 3:r=t.sent,n("SET_CATEGORIES",{categories:r});case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),loadCurrentCategory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.categorySlug,t.next=4,vn.getCategory(a);case 4:s=t.sent,r("SET_CURRENT_CATEGORY",{category:s});case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),createCategory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,r=n.data,t.next=4,vn.createCategory(r);case 4:return a=t.sent.slug,t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),updateCategory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,r=n.categorySlug,a=n.data,t.next=4,vn.updateCategory(r,a);case 4:return t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),deleteCategory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.categorySlug,t.next=4,vn.deleteCategory(a);case 4:r("DELETE_CATEGORY",{categorySlug:a});case 5:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},mutations:{SET_CATEGORIES:function(t,e){var n=e.categories;t.all=n},SET_CURRENT_CATEGORY:function(t,e){var n=e.category;t.current=n},DELETE_CATEGORY:function(t,e){var n=e.categorySlug;t.all=t.all.filter(function(t){return t.slug!==n})}}},yn=(n("57e7"),n("75fc")),wn={state:{list:[],current:null},actions:{loadTopics:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.filters,t.next=4,vn.getTopics(a);case 4:s=t.sent,r("SET_TOPICS_LIST",{topics:s});case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),loadCurrentTopic:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.topicId,t.next=4,vn.getTopic(a);case 4:s=t.sent,r("SET_CURRENT_TOPIC",{topic:s});case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),createTopic:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,r=n.data,t.next=4,vn.createTopic(r);case 4:return a=t.sent._id,t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),updateTopic:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,r=n.topicId,a=n.data,t.next=4,vn.updateTopic(r,a);case 4:return t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),deleteTopic:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,r=n.topicId,t.next=4,vn.deleteTopic(r);case 4:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),addReply:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,a=e.commit,s=n.data,t.next=4,vn.addReply(r.current._id,s);case 4:i=t.sent,a("ADD_REPLY_TO_CURRENT_TOPIC",{reply:i});case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),deleteReply:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,a=e.commit,s=n.replyId,t.next=4,vn.deleteReply(r.current._id,s);case 4:a("DELETE_REPLY_FROM_CURRENT_TOPIC",{replyId:s});case 5:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),updateReply:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,a=e.commit,s=n.replyId,i=n.data,t.next=4,vn.updateReply(r.current._id,s,i);case 4:return a("UPDATE_REPLY",{replyId:s,data:i}),t.abrupt("return",s);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},mutations:{SET_TOPICS_LIST:function(t,e){var n=e.topics;t.list=n},SET_CURRENT_TOPIC:function(t,e){var n=e.topic;t.current=n},ADD_REPLY_TO_CURRENT_TOPIC:function(t,e){var n=e.reply;t.current.replies=[].concat(Object(yn["a"])(t.current.replies),[n])},DELETE_REPLY_FROM_CURRENT_TOPIC:function(t,e){var n=e.replyId;t.current.replies=t.current.replies.filter(function(t){return t._id!==n})},UPDATE_REPLY:function(t,e){var n=e.replyId,r=e.data,s=t.current.replies.map(function(t){return t._id}).indexOf(n);-1!==s&&a["a"].set(t.current.replies,s,Object(p["a"])({},t.current.replies[s],r))}}},Cn=(n("6762"),n("2fdb"),n("2caf"),n("a745")),_n=n.n(Cn),xn={canEditTopic:function(t){return this.checkPermissions({permissions:["categories_topics:write"],scope:{name:"categories",id:t.category.slug}})||this.checkPermissions({permissions:["own_topics:write"],isOwner:this._id===t.user._id})},canDeleteTopic:function(t){return this.checkPermissions({permissions:["categories_topics:delete"],scope:{name:"categories",id:t.category.slug}})||this.checkPermissions({permissions:["own_topics:delete"],isOwner:this._id===t.user._id})},canEditReply:function(t,e){return this.checkPermissions({permissions:["categories_replies:write"],scope:{name:"categories",id:e}})||this.checkPermissions({permissions:["own_replies:write"],isOwner:this._id===t.user._id})},canDeleteReply:function(t,e){return this.checkPermissions({permissions:["categories_replies:delete"],scope:{name:"categories",id:e}})||this.checkPermissions({permissions:["own_replies:delete"],isOwner:this._id===t.user._id})},checkPermissions:function(t){var e=t.permissions,n=t.isOwner,r=void 0===n?null:n,a=t.scope,s=void 0===a?null:a;return!!this.can(e,s)&&(null===r||r)},can:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=_n()(t)?t:[t],r=e?this.permissions[e.name]&&this.permissions[e.name][e.id]:this.permissions.root;return n.every(function(t){return(r||[]).includes(t)})}},kn={state:{currentUser:null},actions:{registerUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,r=n.data,t.next=4,vn.registerUser(r);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),login:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s,i,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.email,s=n.password,t.next=4,vn.login({email:a,password:s});case 4:i=t.sent,o=i.token,c=i.user,localStorage.setItem("auth_token",o),r("SET_USER_DATA",{user:c});case 9:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),logout:function(t){var e=t.commit;localStorage.removeItem("auth_token"),e("SET_USER_DATA",{user:null})},loadCurrentUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.dispatch,a=localStorage.getItem("auth_token"),!a){t.next=13;break}return t.prev=3,t.next=6,vn.getUserData();case 6:s=t.sent,n("SET_USER_DATA",{user:s}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),"out-of-date token"===t.t0.data.message&&r("logout");case 13:case"end":return t.stop()}},t,null,[[3,10]])}));function e(e){return t.apply(this,arguments)}return e}(),updateCurrentUserProfile:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.data,t.next=4,vn.updateUserProfile({data:a});case 4:s=t.sent,i=s.token,o=s.user,localStorage.setItem("auth_token",i),r("SET_USER_DATA",{user:o});case 9:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),updateCurrentUserPassword:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,r=n.data,t.next=4,vn.updateUserPassword({data:r});case 4:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},mutations:{SET_USER_DATA:function(t,e){var n=e.user;t.currentUser=Object(p["a"])({},n,xn)}},getters:{isLoggedIn:function(t){var e=localStorage.getItem("auth_token");return null!==t.currentUser&&null!==e}}};a["a"].use(d["a"]);var On=new d["a"].Store({modules:{categories:bn,topics:wn,users:kn},state:{nextRoute:null},actions:{setNextRoute:function(t,e){var n=t.commit,r=e.route;n("SET_NEXT_ROUTE",{route:r})}},mutations:{SET_NEXT_ROUTE:function(t,e){var n=e.route;t.nextRoute=n}}}),Rn=n("1dce"),$n=n.n(Rn),Sn=n("8fc8"),En=n.n(Sn),Tn=n("6254"),jn=n.n(Tn),Dn=function(t){return jn()(t,{addSuffix:!0})},In={computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},currentUser:function(){return this.$store.state.users.currentUser}}};a["a"].config.productionTip=!1,a["a"].use($n.a),a["a"].use(En.a),a["a"].filter("humanizeDate",Dn),a["a"].mixin(In);var Pn=n("3031");Pn.keys().forEach(function(t){var e=Pn(t);e=e.default||e;var n=e.name||t.replace(/^.+\//,"").replace(/\.\w+$/,"");a["a"].component(n,e)}),pn.beforeEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n,r){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=localStorage.getItem("auth_token"),!a||On.getters.isLoggedIn){t.next=10;break}return t.prev=2,t.next=5,On.dispatch("loadCurrentUser");case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),console.log(t.t0);case 10:if(!e.meta.auth||On.getters.isLoggedIn){t.next=13;break}return On.dispatch("setNextRoute",{route:e.fullPath}),t.abrupt("return",r({name:"Login"}));case 13:if(!e.meta.guest||!On.getters.isLoggedIn){t.next=15;break}return t.abrupt("return",r({name:"Home"}));case 15:if(!e.meta.permissions||On.state.users.currentUser.can(e.meta.permissions)){t.next=17;break}return t.abrupt("return",r({name:"NotFound",params:[e.path],replace:!0}));case 17:if(!On.state.nextRoute||"Login"===e.name){t.next=21;break}return s=On.state.nextRoute,On.dispatch("setNextRoute",{route:null}),t.abrupt("return",r(s));case 21:r();case 22:case"end":return t.stop()}},t,null,[[2,7]])}));return function(e,n,r){return t.apply(this,arguments)}}()),new a["a"]({router:pn,store:On,render:function(t){return t(O)}}).$mount("#app")},5918:function(t,e,n){"use strict";var r=n("9045"),a=n.n(r);a.a},"591e":function(t,e,n){"use strict";var r=n("1673"),a=n.n(r);a.a},"60f5":function(t,e,n){"use strict";var r=n("0065"),a=n.n(r);a.a},"61c3":function(t,e,n){},"6aee":function(t,e,n){},"6c49":function(t,e,n){},"6eb7":function(t,e,n){"use strict";var r=n("cd0e"),a=n.n(r);a.a},"73e0":function(t,e,n){},7680:function(t,e,n){},"7faf":function(t,e,n){"use strict";var r=n("dc71"),a=n.n(r);a.a},"82ea":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.to?n("router-link",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],attrs:{to:t.to}},[t._t("default")],2):n("button",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)},a=[],s=(n("cadf"),n("551c"),n("f751"),n("097d"),{props:{to:{type:Object,default:null},theme:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}}}),i=s,o=(n("6eb7"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"25d3109e",null);e["default"]=c.exports},8566:function(t,e,n){},"85a9":function(t,e,n){},"85de":function(t,e,n){},"876c":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-image-cropper",on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},touchstart:function(e){return e.preventDefault(),t.onMousedown(e)},wheel:function(e){return e.preventDefault(),t.onWheel(e)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading-view"},[n("div",{staticClass:"loading-content"},[t._v("\n      Loading...\n    ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"container",staticClass:"content"},[n("button",{staticClass:"save-button",on:{click:t.crop,touchstart:function(t){t.stopPropagation()}}},[t._v("\n      Save\n    ")]),n("div",{ref:"cropArea",staticClass:"crop-area",style:{width:t.cropWidth+"px",height:t.cropHeight+"px",transform:"translate3d(-50%, -50%, 0) scale("+t.cropScale+")"}}),t.showImage?n("img",{ref:"image",staticClass:"image",style:{transform:"translate3d("+t.translate.x+"px, "+t.translate.y+"px, 0) scale("+t.scale+")","transform-origin":t.origin.x+"px "+t.origin.y+"px"},attrs:{crossorigin:"anonymous",src:t.src},on:{load:t.init}}):t._e()])])},a=[],s=(n("c7c6"),n("c5f6"),{props:{src:{type:String,default:""},cropWidth:{type:Number,default:300},cropHeight:{type:Number,default:300}},data:function(){return{loading:!0,showImage:!1,dragging:!1,startX:0,startY:0,translate:{x:0,y:0},origin:{x:"center",y:"center"},scale:1,maxScale:1,minScale:1,cropScale:1,startTouchDistance:0}},mounted:function(){var t=this;window.addEventListener("mousemove",this.onMousemove),window.addEventListener("touchmove",this.onMousemove),window.addEventListener("mouseup",this.onMouseup),window.addEventListener("touchend",this.onMouseup),window.addEventListener("resize",this.onResize),setTimeout(function(){t.showImage=!0},150)},beforeDestroy:function(){window.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("touchmove",this.onMousemove),window.removeEventListener("mouseup",this.onMouseup),window.removeEventListener("touchend",this.onMouseup),window.removeEventListener("resize",this.onResize)},methods:{init:function(){var t=this;this.loading=!1,this.$nextTick(function(){if(t.$refs.image){var e=t.getContainerRect();t.updateCropScale(),t.maxScale=t.$refs.image.naturalWidth/t.$refs.image.width,t.minScale=t.cropWidth<e.width&&t.cropHeight<e.height?Math.max(t.cropWidth/t.$refs.image.width,t.cropHeight/t.$refs.image.height):1,t.scale=t.maxScale,t.translate.y=t.getCropRect().top-t.getImageRect().top-(t.getImageRect().height-t.getCropRect().height)/2}})},getContainerRect:function(){return this.$refs.container.getBoundingClientRect()},getImageRect:function(){return this.$refs.image?this.$refs.image.getBoundingClientRect():{width:this.cropWidth,height:this.cropHeight}},getCropRect:function(){return this.$refs.cropArea.getBoundingClientRect()},updateCropScale:function(){var t=this.getContainerRect();this.cropScale=this.cropWidth<t.width&&this.cropHeight<t.height?1:Math.min(t.width/this.cropWidth,t.height/this.cropHeight)},onResize:function(){var t=this;this.init(),this.$nextTick(function(){t.onZoom()})},onZoom:function(){var t=this.getBoundaries();this.translate.x>=t.translate.maxX&&(this.translate.x=t.translate.maxX,this.origin.x=t.origin.minX),this.translate.x<=t.translate.minX&&(this.translate.x=t.translate.minX,this.origin.x=t.origin.maxX),this.translate.y>=t.translate.maxY&&(this.origin.y=t.origin.minY,this.translate.y=t.translate.maxY),this.translate.y<=t.translate.minY&&(this.origin.y=t.origin.maxY,this.translate.y=t.translate.minY)},onMousemove:function(t){if("touchmove"===t.type&&2===t.touches.length){var e=Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY),n=e-this.startTouchDistance;this.onPinch(n)}else if(this.dragging){this.updateOrigin();var r=this.getBoundaries(),a="touchmove"===t.type?t.touches[0].clientX:t.clientX,s="touchmove"===t.type?t.touches[0].clientY:t.clientY,i=a+this.startX,o=s+this.startY;i>=r.translate.maxX&&(i=r.translate.maxX),i<=r.translate.minX&&(i=r.translate.minX),o>=r.translate.maxY&&(o=r.translate.maxY),o<=r.translate.minY&&(o=r.translate.minY),this.translate.x=i,this.translate.y=o}},onMousedown:function(t){this.dragging=!0;var e="touchstart"===t.type?t.touches[0].clientX:t.clientX,n="touchstart"===t.type?t.touches[0].clientY:t.clientY;this.startX=this.translate.x-e,this.startY=this.translate.y-n,"touchstart"===t.type&&2===t.touches.length&&(this.startTouchDistance=Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY))},onMouseup:function(){this.dragging=!1,this.updateOrigin()},onWheel:function(t){var e,n=this;e=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0;var r=this.scale+e*this.scale;this.scale=r<=this.minScale?this.minScale:r>this.maxScale?this.maxScale:r,this.$nextTick(function(){n.onZoom()})},onPinch:function(t){var e=this,n=this.scale+t/1200*this.scale;this.scale=n<=this.minScale?this.minScale:n>this.maxScale?this.maxScale:n,this.$nextTick(function(){e.onZoom()})},getBoundaries:function(){var t=this.scale,e=this.getCropRect().width,n=this.getCropRect().height,r=this.$el.clientWidth/2,a=this.$el.clientHeight/2,s=this.getImageRect(),i=s.width,o=s.height,c=e/2,u=n/2,l=-1*(c/t-r),p=l-(i*(1/t)-e*(1/t)),d=-1*(u/t-a),f=d-(o*(1/t)-n*(1/t)),h=1/t*c,g=i*(1/t)-h,m=1/t*u,v=o*(1/t)-m;return{translate:{maxX:l,minX:p,maxY:d,minY:f},origin:{maxX:g,minX:h,maxY:v,minY:m}}},crop:function(){var t=this,e=document.createElement("canvas");e.style.display="none",this.$el.appendChild(e);var n=e.getContext("2d");e.width=this.cropWidth,e.height=this.cropHeight;var r=this.$refs.image.naturalWidth/this.$refs.image.width;n.drawImage(this.$refs.image,this.$refs.image.naturalWidth/2-this.getCropRect().width*r/this.scale/2-this.translate.x*r,this.$refs.image.naturalHeight/2-this.getCropRect().height*r/this.scale/2-this.translate.y*r+(Math.round(this.getContainerRect().height)-this.$refs.image.height)*r/2,this.getCropRect().width*r/this.scale,this.getCropRect().height*r/this.scale,0,0,this.cropWidth,this.cropHeight),this.$nextTick(function(){var n=e.toDataURL("image/png");t.$emit("crop",n)})},updateOrigin:function(){var t=this.$refs.cropArea.getBoundingClientRect(),e=this.$refs.image.getBoundingClientRect(),n=this.origin;this.origin.x=(t.left-e.left+t.width/2)/this.scale,this.origin.y=(t.top-e.top+t.height/2)/this.scale,this.translate.x-=(this.origin.x-n.x)*(1-this.scale),this.translate.y-=(this.origin.y-n.y)*(1-this.scale)}}}),i=s,o=(n("c805"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"532aca22",null);e["default"]=c.exports},"887a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-select-input",class:[t.theme,{transparent:t.transparent,invalid:t.hasErrors,loading:t.loadingOptions}]},[n("div",{ref:"currentValue",staticClass:"current-value",on:{click:function(e){t.showDropdown=!t.loadingOptions}}},[t.loadingOptions?n("span",{staticClass:"current-value-text"},[t._v("\n      Loading...\n    ")]):t.value?n("span",{staticClass:"current-value-text"},[t._v("\n      "+t._s(t.currentTitle)+"\n    ")]):n("span",{staticClass:"placeholder"},[t._v("\n      "+t._s(t.placeholder)+"\n    ")]),n("i",{staticClass:"fas fa-angle-down arrow-icon"})]),n("base-dropdown-content",{directives:[{name:"closable",rawName:"v-closable",value:{handler:"closeDropdown",exclude:["currentValue"]},expression:"{\n      handler: 'closeDropdown',\n      exclude: ['currentValue']\n    }"}],attrs:{show:t.showDropdown,options:t.options,selected:t.value,"show-selected-first":!0,"y-direction":t.yDirection,"x-direction":t.xDirection},on:{select:t.onSelect}}),t.hasErrors?n("div",{staticClass:"error-message"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t._e()],1)},a=[],s=(n("d25f"),n("a4bb")),i=n.n(s),o=(n("7514"),n("c5f6"),n("2dab")),c={props:{value:{type:[String,Number],default:""},options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},yDirection:{type:String,default:"below"},xDirection:{type:String,default:"right"},theme:{type:String,default:"dark"},transparent:{type:Boolean,default:!1},errors:{type:Object,default:function(){return{}}},errorMessages:{type:Object,default:function(){return{}}},loadingOptions:{type:Boolean,default:!1}},data:function(){return{showDropdown:!1}},computed:{currentTitle:function(){var t=this,e=this.options.find(function(e){return e.key===t.value});return e?e.title:""},hasErrors:function(){return this.errors.$anyError},errorMessage:function(){var t=this,e=i()(this.errors.$params),n=e.filter(function(e){return!t.errors[e]});if(!n.length)return null;var r=n[0];return this.errorMessages[r]?this.errorMessages[r]:o["a"][r]}},methods:{closeDropdown:function(){this.showDropdown=!1},onSelect:function(t){this.$emit("input",t),this.closeDropdown()}}},u=c,l=(n("3b02"),n("2877")),p=Object(l["a"])(u,r,a,!1,null,"389ae971",null);e["default"]=p.exports},"8d0c":function(t,e,n){"use strict";var r=n("3f44"),a=n.n(r);a.a},9045:function(t,e,n){},"9a6a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-spinner"},[n("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#003"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("g",{attrs:{transform:"translate(1 1)","stroke-width":"2"}},[n("circle",{attrs:{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}}),n("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])])])},a=[],s=(n("c5f6"),{props:{size:{type:Number,default:60}}}),i=s,o=n("2877"),c=Object(o["a"])(i,r,a,!1,null,"2d3d3667",null);e["default"]=c.exports},"9bdb":function(t,e,n){},a3cb:function(t,e,n){"use strict";var r=n("6c49"),a=n.n(r);a.a},ad19:function(t,e,n){},af6c:function(t,e,n){"use strict";var r=n("dfd1"),a=n.n(r);a.a},b1a3:function(t,e,n){},b3b3:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-input",class:{invalid:t.hasErrors,disabled:t.disabled,required:t.required,focus:t.focus}},[t.label?n("label",{staticClass:"label"},[t._v("\n    "+t._s(t.label)+"\n  ")]):t._e(),n("input",{staticClass:"input",class:t.type,attrs:{type:t.type,placeholder:t.placeholder,disabled:t.disabled},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),t.hasErrors?n("div",{staticClass:"error-message"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t._e()])},a=[],s=(n("d25f"),n("a4bb")),i=n.n(s),o=(n("c5f6"),n("2dab")),c={props:{value:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},minHeight:{type:Number,default:null},required:{type:Boolean,default:!1},errors:{type:Object,default:function(){return{}}},errorMessages:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{focus:!1}},computed:{hasErrors:function(){return this.errors.$anyError},errorMessage:function(){var t=this,e=i()(this.errors.$params),n=e.filter(function(e){return!t.errors[e]});if(!n.length)return null;var r=n[0];return this.errorMessages[r]?this.errorMessages[r]:o["a"][r]}}},u=c,l=(n("24ca"),n("2877")),p=Object(l["a"])(u,r,a,!1,null,"5d27155f",null);e["default"]=p.exports},b543:function(t,e,n){},c08b:function(t,e,n){},c10a:function(t,e,n){},c1ec:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-modal"},[n("transition",{attrs:{name:"fade"},on:{"after-enter":function(e){t.showContent=!0},"after-leave":function(e){return t.$emit("close")}}},[t.showOverlay?n("div",{staticClass:"overlay",on:{click:t.close}}):t._e()]),n("transition",{attrs:{name:"fade"},on:{"after-leave":function(e){t.showOverlay=!1}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showContent,expression:"showContent"}],staticClass:"modal-container",style:{"max-width":t.width+"px"}},[t._t("default")],2)])],1)},a=[],s=(n("c5f6"),{props:{show:{type:Boolean,default:!1},width:{type:Number,default:500}},data:function(){return{showOverlay:!1,showContent:!1}},watch:{show:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(){t?(e.showOverlay=!0,document.body.classList.add("no-scroll")):(e.showContent=!1,document.body.classList.remove("no-scroll"))})}},showContent:function(t){t&&this.$emit("show-content")}},methods:{close:function(){this.showContent=!1,document.body.classList.remove("no-scroll")}}}),i=s,o=(n("c592"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"673794d1",null);e["default"]=c.exports},c328:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-avatar",class:{name:!t.src},style:{"background-image":"url("+t.src+")","background-color":t.src?"":t.backgroundColor,width:t.size+"px","min-width":t.size+"px",height:t.size+"px","min-height":t.size+"px"}},[!t.src&&t.name?n("span",{staticClass:"name-letter",style:{"font-size":.45*t.size+"px"}},[t._v("\n    "+t._s(t.name[0])+"\n  ")]):t._e()])},a=[],s=(n("28a5"),n("0cd8"),n("7f7f"),n("c5f6"),n("cadf"),n("551c"),n("f751"),n("097d"),{props:{src:{type:String,default:null},name:{type:String,default:""},size:{type:Number,default:40}},computed:{backgroundColor:function(){var t=this.name.toUpperCase(),e=t.split("").reduce(function(e,n,r){return e+=t.charCodeAt(r),e},0);return"hsl(".concat(e%360,", 60%, 50%)")}}}),i=s,o=(n("c77a"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"6a925bf1",null);e["default"]=c.exports},c4fb:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-image-input"},[n("div",{staticClass:"content",class:{"has-image":t.imagePreviewData},style:{width:t.width+"px",height:t.height+"px","background-image":"url("+t.imagePreviewData+")"},on:{click:t.chooseImage}},[n("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"},on:{change:t.onSelectFile}}),n("span",{staticClass:"placeholder"},[n("i",{staticClass:"fas fa-image placeholder-icon"}),n("span",{staticClass:"placeholder-text"},[t._v("\n        "+t._s(t.imagePreviewData?"Change Your Picture":"Choose Picture")+"\n      ")])])]),n("base-modal",{staticClass:"image-cropper-modal",attrs:{show:t.showCropperModal,width:700},on:{close:t.closeCropper,"show-content":function(e){t.showCropper=!0}}},[t.showCropper?n("base-image-cropper",{attrs:{src:t.imageToCropData,"crop-width":t.width,"crop-height":t.height},on:{crop:t.onCrop}}):t._e()],1)],1)},a=[],s=(n("c5f6"),{props:{value:{type:String,default:""},width:{type:Number,default:300},height:{type:Number,default:300},crop:{type:Boolean,default:!1}},data:function(){return{imagePreviewData:this.value,imageToCropData:null,showCropperModal:!1,showCropper:!1}},methods:{chooseImage:function(){this.$refs.fileInput.click()},onSelectFile:function(){var t=this,e=this.$refs.fileInput,n=e.files;if(n&&n[0]){var r=new FileReader;r.onload=function(e){t.crop?(t.imageToCropData=e.target.result,t.showCropperModal=!0):(t.imagePreviewData=e.target.result,t.$emit("input",t.imagePreviewData))},r.readAsDataURL(n[0])}},onCrop:function(t){this.imagePreviewData=t,this.$emit("input",t),this.closeCropper()},closeCropper:function(){this.showCropperModal=!1,this.showCropper=!1,this.$refs.fileInput.value=""}}}),i=s,o=(n("cb36"),n("f4d3"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"4ff08121",null);e["default"]=c.exports},c589:function(t,e,n){"use strict";var r=n("3f8f"),a=n.n(r);a.a},c592:function(t,e,n){"use strict";var r=n("3085"),a=n.n(r);a.a},c77a:function(t,e,n){"use strict";var r=n("f756"),a=n.n(r);a.a},c805:function(t,e,n){"use strict";var r=n("d995"),a=n.n(r);a.a},c96d:function(t,e,n){},c9c0:function(t,e,n){"use strict";var r=n("8566"),a=n.n(r);a.a},caf5:function(t,e,n){},cb36:function(t,e,n){"use strict";var r=n("5372"),a=n.n(r);a.a},cbee:function(t,e,n){"use strict";var r=n("c08b"),a=n.n(r);a.a},cd0e:function(t,e,n){},ce1a:function(t,e,n){"use strict";var r=n("73e0"),a=n.n(r);a.a},cfc5:function(t,e,n){"use strict";var r=n("6aee"),a=n.n(r);a.a},d995:function(t,e,n){},dc71:function(t,e,n){},dfd1:function(t,e,n){},e216:function(t,e,n){"use strict";var r=n("b543"),a=n.n(r);a.a},e63d:function(t,e,n){"use strict";var r=n("004f"),a=n.n(r);a.a},e887:function(t,e,n){"use strict";var r=n("3585"),a=n.n(r);a.a},e8d0:function(t,e,n){"use strict";var r=n("264f"),a=n.n(r);a.a},e8e0:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-input",class:{invalid:t.hasErrors,disabled:t.disabled,focused:t.focused}},[t.label?n("label",{staticClass:"label"},[t._v("\n    "+t._s(t.label)+"\n  ")]):t._e(),n("textarea",{ref:"input",staticClass:"textarea",style:t.minHeight?{"min-height":t.minHeight+"px"}:"",attrs:{placeholder:t.placeholder,disabled:t.disabled},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},focus:function(e){t.focused=!0},blur:function(e){t.focused=!1}}}),t.hasErrors?n("div",{staticClass:"error-message"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t._e()])},a=[],s=(n("d25f"),n("a4bb")),i=n.n(s),o=(n("c5f6"),n("2dab")),c={props:{value:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:""},minHeight:{type:Number,default:null},errors:{type:Object,default:function(){return{}}},errorMessages:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{focused:!1}},computed:{hasErrors:function(){return this.errors.$anyError},errorMessage:function(){var t=this,e=i()(this.errors.$params),n=e.filter(function(e){return!t.errors[e]});if(!n.length)return null;var r=n[0];return this.errorMessages[r]?this.errorMessages[r]:o["a"][r]}},methods:{focus:function(){this.$refs.input.focus()}}},u=c,l=(n("e216"),n("2877")),p=Object(l["a"])(u,r,a,!1,null,"d6350cae",null);e["default"]=p.exports},ea2b:function(t,e,n){"use strict";var r=n("ad19"),a=n.n(r);a.a},f4d3:function(t,e,n){"use strict";var r=n("85a9"),a=n.n(r);a.a},f756:function(t,e,n){},fe69:function(t,e,n){"use strict";var r=n("046d"),a=n.n(r);a.a},ff32:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-menu-dropdown",class:[t.theme,{transparent:t.transparent,"use-button":t.useButton}]},[t.useButton?n("base-button",{ref:"triggerButton",attrs:{type:"bar",transparent:t.transparent,theme:t.theme},on:{click:function(e){t.showDropdown=!t.showDropdown}}},[t._t("default")],2):n("div",{ref:"triggerButton",on:{click:function(e){t.showDropdown=!t.showDropdown}}},[t._t("default")],2),n("base-dropdown-content",{directives:[{name:"closable",rawName:"v-closable",value:{handler:"closeDropdown",exclude:["triggerButton"]},expression:"{\n      handler: 'closeDropdown',\n      exclude: ['triggerButton']\n    }"}],attrs:{show:t.showDropdown,options:t.options,"x-direction":t.xDirection,"y-direction":t.yDirection,"max-height":t.maxHeight},on:{select:t.onSelect},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.option;return[t._t("option",null,{option:n})]}}],null,!0)})],1)},a=[],s=(n("c5f6"),{props:{options:{type:Array,default:function(){return[]}},useButton:{type:Boolean,default:!1},yDirection:{type:String,default:"below"},xDirection:{type:String,default:"right"},theme:{type:String,default:"dark"},transparent:{type:Boolean,default:!1},maxHeight:{type:Number,default:200}},data:function(){return{showDropdown:!1}},methods:{closeDropdown:function(){this.showDropdown=!1},onSelect:function(t){this.$emit("select",t),this.closeDropdown()}}}),i=s,o=(n("c589"),n("fe69"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"38f84f5e",null);e["default"]=c.exports},ffdd:function(t,e,n){"use strict";var r=n("2045"),a=n.n(r);a.a}});
//# sourceMappingURL=app.774594a3.js.map